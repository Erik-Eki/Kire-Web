---
import Layout from '../../layouts/Layout.astro'
import { supabase } from "../../lib/supabaseClient";

const slug = Astro.params.slug

// async function fetchData() {
//     const { data, error } = await supabase
//       .from("members")
//       .select("name")
//       .eq("group_id", groupId);
//     if (error) {
//       console.error(error);
//       throw error;
//     }
//     content = data.map((m) => m.name);
//   }

// try {
	

// 	content = data.story.content
// } catch (error) {
// 	return Astro.redirect('/404')
// }

const response = await fetch("https://fjkaxagqdonnlhqdallw.supabase.co/graphql/v1",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query getFilm ($id:ID!) {
          film(id: $id) {
            title
            releaseDate
          }
        }
      `,
      variables: {
        id: "ZmlsbXM6MQ==",
      },
    }),
  });

const json = await response.json();
const { film } = json.data;
---

<Layout>
    <div></div>
</Layout>