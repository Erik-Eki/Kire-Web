---
import { storyblokEditable, renderRichText } from '@storyblok/astro'
import RichTextRenderer from '@storyblok/astro/RichTextRenderer.astro'
import CommentSection from '$components/building-blocks/CommentSection.svelte'


const { blok } = Astro.props
//const content = renderRichText(blok.content)
const currSlug = Astro.url.pathname

//console.log(blok)
---

<div>

	<article {...storyblokEditable(blok)} class="page">
		<div class="mb-10 border-b-2 border-b-violet-800 pb-2">
			<h1 class="supertitle">{blok.title}</h1>
			<p>{blok.description}</p>
		</div>
		<div
			class="prose prose-lg dark:prose-invert prose-code:m-1 prose-code:rounded prose-code:bg-gray-800 prose-code:p-2 prose-code:text-green-600 prose-code:before:content-none prose-code:after:content-none"
		>
			<!-- <Fragment set:html={content}/> -->
			<RichTextRenderer richTextData={blok.content} />
		</div>
		<!-- <img src={blok.imageLink?.url}> -->
	</article>

	<hr>
	<CommentSection slug={currSlug} postID={blok._uid} client:visible/>
	
</div>

<style>
	.page {
		margin: 10px;
	}
	.supertitle {
		font-size: 3rem !important;
	}
	/* code:before {
    content: none;
  }
  code:after {
    content: none;
  } */
</style>